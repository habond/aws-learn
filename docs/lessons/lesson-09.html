<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lesson 9: AI/ML Buzzwords (Get Your MBA!) - AWS Learning Tutorial</title>

  <!-- Favicon -->
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='90'>‚òÅÔ∏è</text></svg>">
  <link rel="stylesheet" href="../assets/style.css">
  <!-- Highlight.js for syntax highlighting -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
  <!-- Additional language support -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/bash.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/javascript.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/python.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/json.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/yaml.min.js"></script>
  <script src="../assets/terraform.js"></script>
</head>

<body>
  <div class="container">
    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="sidebar-header">
        <h1><a href="../index.html">AWS Learning</a></h1>
      </div>

      <div class="lesson-info">
        <h2>Lesson 9</h2>
        <div class="lesson-title">AI/ML Buzzwords (Get Your MBA!)</div>
        <div class="lesson-meta">
          <span>~6 hours</span>
          <span>$5-10</span>
        </div>
      </div>

      <!-- Progress Bar -->
      <div class="progress-bar">
        <div class="progress-fill" style="width: 33.33%;"></div>
      </div>
      <div class="progress-text">Step 1 of 3</div>

      <!-- Table of Contents -->
      <nav class="toc">
        <h3>In This Lesson</h3>
        <ul>
          <li class="active">
<a href="lesson-09.html">
<span class="step-number">1</span>
<span class="step-title">Image Analysis with Rekognition</span>
</a>
</li>
<li>
<a href="lesson-09-2.html">
<span class="step-number">2</span>
<span class="step-title">Text Analysis with Bedrock</span>
</a>
</li>
<li>
<a href="lesson-09-3.html">
<span class="step-number">3</span>
<span class="step-title">Additional AI Services</span>
</a>
</li>

        </ul>
      </nav>

      <!-- All Lessons -->
      <div class="all-lessons">
  <h3>All Lessons</h3>
  <ul>
    <li>
      <a href="lesson-01.html">1. Your First Internet Empire</a>
    </li>
    <li>
      <a href="lesson-02.html">2. Renting Computers</a>
    </li>
    <li>
      <a href="lesson-03.html">3. Databases That Don&#39;t Die</a>
    </li>
    <li>
      <a href="lesson-04.html">4. Containers &amp; Orchestration</a>
    </li>
    <li>
      <a href="lesson-05.html">5. Serverless Computing</a>
    </li>
    <li>
      <a href="lesson-06.html">6. Data Pipelines</a>
    </li>
    <li>
      <a href="lesson-07.html">7. Event-Driven Chaos</a>
    </li>
    <li>
      <a href="lesson-08.html">8. Big Data Analytics</a>
    </li>
    <li class="current">
      <a href="lesson-09.html">9. AI/ML Buzzwords</a>
    </li>
    <li>
      <a href="lesson-10.html">10. Observability</a>
    </li>
    <li>
      <a href="lesson-11.html">11. Security Deep Dive</a>
    </li>
    <li>
      <a href="lesson-12.html">12. Final Project</a>
    </li>
  </ul>
</div>

    </aside>

    <!-- Main Content -->
    <main class="content">
      
<div class="step-header">
        <span class="step-badge">Lesson 9 - Part 1</span>
        <h1>AI/ML Buzzwords (Get Your MBA!)</h1>
      </div>

      <div class="step-content">
        <h2>What You're Building</h2>
        <p>Build an AI-powered content moderation system that analyzes uploaded images and text. Use Amazon Rekognition for image analysis (detect inappropriate content, celebrities, text in images), Bedrock for text analysis with Claude, and store results in DynamoDB. Real-world use case: Social media moderation, content filtering, automated tagging.</p>

        <div class="aws-services-summary">
          <h3>AWS Services Used in This Lesson</h3>
          <div class="aws-services-grid">
            <div class="aws-service-item">
              <a href="https://docs.aws.amazon.com/rekognition/" target="_blank" rel="noopener noreferrer">
                <strong>Rekognition</strong>
                <span>Computer vision and image analysis</span>
              </a>
            </div>
            <div class="aws-service-item">
              <a href="https://docs.aws.amazon.com/bedrock/" target="_blank" rel="noopener noreferrer">
                <strong>Bedrock</strong>
                <span>Access foundation models like Claude</span>
              </a>
            </div>
            <div class="aws-service-item">
              <a href="https://docs.aws.amazon.com/translate/" target="_blank" rel="noopener noreferrer">
                <strong>Translate</strong>
                <span>Language translation</span>
              </a>
            </div>
            <div class="aws-service-item">
              <a href="https://docs.aws.amazon.com/comprehend/" target="_blank" rel="noopener noreferrer">
                <strong>Comprehend</strong>
                <span>Natural language processing</span>
              </a>
            </div>
            <div class="aws-service-item">
              <a href="https://docs.aws.amazon.com/s3/" target="_blank" rel="noopener noreferrer">
                <strong>S3</strong>
                <span>Store images and content</span>
              </a>
            </div>
            <div class="aws-service-item">
              <a href="https://docs.aws.amazon.com/lambda/" target="_blank" rel="noopener noreferrer">
                <strong>Lambda</strong>
                <span>Process and analyze content</span>
              </a>
            </div>
            <div class="aws-service-item">
              <a href="https://docs.aws.amazon.com/dynamodb/" target="_blank" rel="noopener noreferrer">
                <strong>DynamoDB</strong>
                <span>Store analysis results</span>
              </a>
            </div>
          </div>
        </div>

        <h2>What You'll Learn</h2>
        <ul>
          <li><strong>Amazon Rekognition</strong>: Computer vision (image analysis)</li>
          <li><strong>Amazon Bedrock</strong>: Access foundation models (Claude, etc)</li>
          <li><strong>Amazon Translate</strong>: Language translation</li>
          <li><strong>Amazon Comprehend</strong>: Natural language processing</li>
          <li><strong>AI/ML Integration</strong>: Add AI to applications</li>
          <li><strong>Prompt Engineering</strong>: Get better AI responses</li>
        </ul>

        <h2>Prerequisites</h2>
        <ul>
          <li>Completed Lessons 1-8</li>
          <li>AWS CLI configured</li>
          <li>Understanding of APIs</li>
        </ul>

        <hr style="margin: 40px 0; border: none; border-top: 2px solid var(--border-color);">

        <h2>Part 1: Image Analysis with Rekognition (2 hours)</h2>

        <div class="learn-more">
          <div class="learn-more-header">
            <span class="icon">üìò</span>
            <strong>What is Amazon Rekognition?</strong>
          </div>
          <div class="learn-more-content">
            <p><strong>What it is:</strong> Rekognition is AWS's computer vision service that analyzes images and videos using deep learning models. You send it an image, and it can identify objects, people, text, scenes, inappropriate content, and even celebrities - all without you needing to understand machine learning.</p>

            <p><strong>Why we need it:</strong> Building computer vision models from scratch requires massive datasets, GPUs, and ML expertise. Rekognition provides pre-trained models via simple API calls. Instead of spending months training models, you can add image analysis to your app in hours. Perfect for content moderation, photo organization, or security applications.</p>

            <p><strong>Key details:</strong> Rekognition charges per image analyzed and per minute of video processed. It can detect thousands of objects and scenes with confidence scores (0-100%). For faces, it provides age range, emotions, gender prediction, and more. You can also train custom models to recognize your specific products or logos.</p>

            <p><strong>Common gotcha:</strong> Rekognition returns confidence scores, not guarantees. A 90% confidence that an image contains inappropriate content doesn't mean it definitely does - review borderline cases manually. Also, batch processing costs less than real-time analysis, so aggregate requests when possible.</p>
          </div>
        </div>

        <h3>Step 1: Create S3 Bucket for Images</h3>
        <pre><div class="code-block-badges"><span class="code-service-badge">S3</span><span class="code-service-badge">STS</span></div><code class="language-bash">export IMAGE_BUCKET="ai-content-moderation-$(aws sts get-caller-identity --query Account --output text)"
aws s3 mb s3://$IMAGE_BUCKET

echo "Image Bucket: $IMAGE_BUCKET"</code></pre>

        <h3>Step 2: Upload Test Images</h3>
        <pre><div class="code-block-badges"><span class="code-service-badge">S3</span></div><code class="language-bash"># Download sample images (or use your own)
curl -o test-image.jpg https://images.unsplash.com/photo-1552053831-71594a27632d

# Upload to S3
aws s3 cp test-image.jpg s3://$IMAGE_BUCKET/test-image.jpg</code></pre>

        <h3>Step 3: Test Rekognition APIs</h3>
        <pre><div class="code-block-badges"><span class="code-service-badge">Rekognition</span></div><code class="language-bash"># Detect labels (objects, scenes, activities)
aws rekognition detect-labels \
  --image "S3Object={Bucket=$IMAGE_BUCKET,Name=test-image.jpg}" \
  --max-labels 10

# Detect faces
aws rekognition detect-faces \
  --image "S3Object={Bucket=$IMAGE_BUCKET,Name=test-image.jpg}" \
  --attributes ALL

# Detect text in image
aws rekognition detect-text \
  --image "S3Object={Bucket=$IMAGE_BUCKET,Name=test-image.jpg}"

# Detect moderation labels (inappropriate content)
aws rekognition detect-moderation-labels \
  --image "S3Object={Bucket=$IMAGE_BUCKET,Name=test-image.jpg}"

# Detect celebrities (if any)
aws rekognition recognize-celebrities \
  --image "S3Object={Bucket=$IMAGE_BUCKET,Name=test-image.jpg}"</code></pre>

        <h3>Step 4: Create Image Analysis Lambda</h3>
        <p>Create <code>image-analyzer/index.js</code>:</p>
        <pre><code class="language-javascript">const { RekognitionClient, DetectLabelsCommand, DetectModerationLabelsCommand, DetectTextCommand, DetectFacesCommand } = require('@aws-sdk/client-rekognition');
const { DynamoDBClient } = require('@aws-sdk/client-dynamodb');
const { DynamoDBDocumentClient, PutCommand } = require('@aws-sdk/lib-dynamodb');

const rekognition = new RekognitionClient({});
const ddbClient = new DynamoDBClient({});
const ddb = DynamoDBDocumentClient.from(ddbClient);

exports.handler = async (event) =&gt; {
  console.log('Event:', JSON.stringify(event));

  const bucket = event.Records[0].s3.bucket.name;
  const key = decodeURIComponent(event.Records[0].s3.object.key.replace(/\+/g, ' '));

  console.log(`Analyzing image: s3://${bucket}/${key}`);

  try {
    // Detect labels
    const labelsResponse = await rekognition.send(new DetectLabelsCommand({
      Image: { S3Object: { Bucket: bucket, Name: key } },
      MaxLabels: 10
    }));

    // Detect moderation labels
    const moderationResponse = await rekognition.send(new DetectModerationLabelsCommand({
      Image: { S3Object: { Bucket: bucket, Name: key } }
    }));

    // Detect text
    const textResponse = await rekognition.send(new DetectTextCommand({
      Image: { S3Object: { Bucket: bucket, Name: key } }
    }));

    // Detect faces
    const facesResponse = await rekognition.send(new DetectFacesCommand({
      Image: { S3Object: { Bucket: bucket, Name: key } },
      Attributes: ['ALL']
    }));

    // Determine if content is safe
    const isSafe = moderationResponse.ModerationLabels.length === 0 ||
                   moderationResponse.ModerationLabels.every(label =&gt; label.Confidence &lt; 80);

    const analysis = {
      imageKey: key,
      bucket: bucket,
      analyzedAt: new Date().toISOString(),
      labels: labelsResponse.Labels.map(l =&gt; ({ name: l.Name, confidence: l.Confidence })),
      moderationLabels: moderationResponse.ModerationLabels.map(l =&gt; ({ name: l.Name, confidence: l.Confidence })),
      textDetected: textResponse.TextDetections.map(t =&gt; t.DetectedText),
      faceCount: facesResponse.FaceDetails.length,
      isSafe: isSafe,
      status: isSafe ? 'APPROVED' : 'FLAGGED'
    };

    // Store results in DynamoDB
    await ddb.send(new PutCommand({
      TableName: process.env.TABLE_NAME,
      Item: analysis
    }));

    console.log('Analysis complete:', analysis);

    return {
      statusCode: 200,
      body: JSON.stringify(analysis)
    };
  } catch (error) {
    console.error('Error:', error);
    throw error;
  }
};</code></pre>

        <h3>Step 5: Create DynamoDB Table</h3>
        <pre><div class="code-block-badges"><span class="code-service-badge">DynamoDB</span></div><code class="language-bash">aws dynamodb create-table \
  --table-name content-analysis \
  --attribute-definitions AttributeName=imageKey,AttributeType=S \
  --key-schema AttributeName=imageKey,KeyType=HASH \
  --billing-mode PAY_PER_REQUEST

aws dynamodb wait table-exists --table-name content-analysis</code></pre>

        <h3>Step 6: Deploy Image Analyzer Lambda</h3>
        <pre><div class="code-block-badges"><span class="code-service-badge">Lambda</span><span class="code-service-badge">S3</span></div><code class="language-bash">cd image-analyzer
npm init -y
npm install @aws-sdk/client-rekognition @aws-sdk/client-dynamodb @aws-sdk/lib-dynamodb
zip -r function.zip .

# Create IAM role with Rekognition, S3, DynamoDB permissions
# (create or reuse role with appropriate permissions)

aws lambda create-function \
  --function-name image-content-analyzer \
  --runtime nodejs20.x \
  --role $LAMBDA_ROLE_ARN \
  --handler index.handler \
  --zip-file fileb://function.zip \
  --timeout 60 \
  --memory-size 512 \
  --environment "Variables={TABLE_NAME=content-analysis}"

# Add S3 trigger
aws lambda add-permission \
  --function-name image-content-analyzer \
  --statement-id s3-trigger \
  --action lambda:InvokeFunction \
  --principal s3.amazonaws.com \
  --source-arn arn:aws:s3:::$IMAGE_BUCKET

# Configure S3 notification
cat &gt; s3-notification.json &lt;&lt; EOF
{
  "LambdaFunctionConfigurations": [
    {
      "LambdaFunctionArn": "$(aws lambda get-function --function-name image-content-analyzer --query 'Configuration.FunctionArn' --output text)",
      "Events": ["s3:ObjectCreated:*"],
      "Filter": {
        "Key": {
          "FilterRules": [
            {
              "Name": "suffix",
              "Value": ".jpg"
            }
          ]
        }
      }
    }
  ]
}
EOF

aws s3api put-bucket-notification-configuration \
  --bucket $IMAGE_BUCKET \
  --notification-configuration file://s3-notification.json</code></pre>

        <h3>Step 7: Test Image Analysis</h3>
        <pre><div class="code-block-badges"><span class="code-service-badge">CloudWatch Logs</span><span class="code-service-badge">DynamoDB</span><span class="code-service-badge">S3</span></div><code class="language-bash"># Upload an image
aws s3 cp test-image.jpg s3://$IMAGE_BUCKET/uploads/test-$(date +%s).jpg

# Check logs
sleep 10
aws logs tail /aws/lambda/image-content-analyzer --follow

# Query DynamoDB
aws dynamodb scan --table-name content-analysis</code></pre>
      </div>

      <!-- Navigation -->
      <div class="step-navigation">
        <div class="nav-button-group">
          <a href="lesson-08.html" class="btn btn-secondary">‚Üê Previous Lesson: Big Data Analytics</a>
          <a href="lesson-09-2.html" class="btn btn-primary">Next: Text Analysis with Bedrock ‚Üí</a>
        </div>
      </div>
    </main>
  </div>

  <script src="../assets/script.js"></script>
</body>
</html>
